import{d as T,u as N,j as q,q as $,z as B,y as z,a1 as P,v as E,m as w,o as t,c as i,h as u,J as C,e as n,F as S,r as V,a2 as K,b as y,w as m,g as R,f as g,Z as j,$ as D,Y as F,W as U,a as W,a3 as H,X as J,a0 as M,n as O,i as Q,_ as X,Q as Y}from"./app-LoprukbN.js";import{_ as Z}from"./SakuraPostList.vue_vue_type_style_index_0_lang-CostAJ50.js";import{_ as G}from"./SakuraPageHeader-DoEE9N9B.js";import"./SakuraDate.vue_vue_type_script_setup_true_lang-BwxUk5J0.js";import"./SakuraImageCard-DzFsZtSC.js";const I={class:"category-list-item inline-flex items-center cursor-pointer"},ee={key:0,"i-ri-folder-add-line":""},te={key:1,style:{color:"var(--va-c-primary)"},"i-ri-folder-reduce-line":""},oe={key:0},ae=u("div",{"i-ri-file-text-line":""},null,-1),se={m:"l-1",font:"serif black"},ne=T({__name:"SakuraCategory",props:{parentKey:{},category:{},level:{},collapsable:{type:Boolean,default:!0}},setup(v){const _=v,r=N(),a=q(),d=$(()=>{const e=a.query.category||"";return Array.isArray(e)?[e]:e.split("/")}),p=B(_.collapsable),{t:o}=z(),{locale:f}=z();function b(e){const c=f.value==="zh-CN"?"zh":f.value;return e[`title_${c}`]?e[`title_${c}`]:e.title}const k=B(),{show:x}=P(k);function l(e){r.push({query:{category:e}}),x()}return E(()=>{const e=document.querySelector(".post-collapse-container");e&&(k.value=e)}),(e,c)=>{const h=w("SakuraCategory",!0),L=w("RouterLink");return t(),i(S,null,[u("li",I,[u("span",{class:"folder-action inline-flex",onClick:c[0]||(c[0]=s=>p.value=!p.value)},[p.value?(t(),i("div",ee)):(t(),i("div",te))]),u("span",{class:"category-name",m:"l-1",onClick:c[1]||(c[1]=s=>l(e.parentKey))},C(e.category.name==="Uncategorized"?n(o)("category.uncategorized"):e.category.name)+" ["+C(e.category.total)+"] ",1)]),p.value?R("v-if",!0):(t(),i("ul",oe,[(t(!0),i(S,null,V(e.category.children.values(),(s,A)=>(t(),i("li",{key:A,class:"post-list-item",m:"l-4"},[n(K)(s)?(t(),y(h,{key:0,"parent-key":e.parentKey?`${e.parentKey}/${s.name}`:s.name,category:s,collapsable:!d.value.includes(s.name)},null,8,["parent-key","category","collapsable"])):(t(),i(S,{key:1},[s.title?(t(),y(L,{key:0,to:s.path||"",class:"inline-flex items-center"},{default:m(()=>[ae,u("span",se,C(b(s)),1)]),_:2},1032,["to"])):R("v-if",!0)],64))]))),128))]))],64)}}}),re=T({__name:"SakuraCategories",props:{categories:{},level:{default:0},collapsable:{type:Boolean,default:!0}},setup(v){const _=q(),r=$(()=>{const a=_.query.category||"";return Array.isArray(a)?[a]:a.split("/")});return(a,d)=>{const p=ne;return t(!0),i(S,null,V(a.categories.values(),o=>(t(),i("ul",{key:o.name,class:"category-list",m:"l-4"},[g(p,{"parent-key":o.name,category:o,level:a.level+1,collapsable:!r.value.includes(o.name)},null,8,["parent-key","category","level","collapsable"])]))),128)}}}),le={text:"center",class:"yun-text-light",p:"2"},ie=u("div",{class:"pt-24px px-20px flex items-center text-$st-c-text"},[u("div",{"i-fa6-solid:water":"",class:"mr-1"}),Q(" 文章列表 ")],-1),ce={key:0,class:"categories-margin-control"},ue=T({__name:"CategoriesThemeSakura",setup(v){j([D({"@type":"CollectionPage"})]);const _=F(),r=U(),a=W(),{t:d}=z(),p=q(),o=$(()=>p.query.category||""),f=H(),b=$(()=>_.postList.filter(l=>l.categories&&o.value!=="Uncategorized"?typeof l.categories=="string"?l.categories===o.value:l.categories.join("/").startsWith(o.value)&&l.categories[0]===o.value.split("/")[0]:!l.categories&&o.value==="Uncategorized"?l.categories===void 0:!1)),k=J(r);return(x,l)=>{const e=G,c=re,h=w("RouterView"),L=Z;return t(),y(h,null,{default:m(({Component:s})=>[(t(),y(M(s),null,{"main-header":m(()=>[g(e,{title:n(k)||n(d)("menu.categories"),"sub-title":o.value,icon:n(r).icon||"i-ri-tag-line",color:n(r).color,cover:n(r).cover},null,8,["title","sub-title","icon","color","cover"])]),"main-content":m(()=>[u("div",{class:O([n(a).animation&&"element-slide-up","categories-margin-control"])},[u("div",le,C(n(d)("counter.categories",Array.from(n(f).children).length)),1),g(c,{categories:n(f).children},null,8,["categories"]),ie,g(h)],2)]),"main-nav-before":m(()=>[o.value?(t(),i("div",ce,[g(L,{w:"full",posts:b.value},null,8,["posts"])])):R("v-if",!0)]),_:2},1024))]),_:1})}}}),pe={};function _e(v,_){const r=ue,a=Y;return t(),y(a,{class:"relative"},{default:m(()=>[g(r)]),_:1})}const ve=X(pe,[["render",_e]]);export{ve as default};
